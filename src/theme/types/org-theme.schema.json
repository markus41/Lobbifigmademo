{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://lobbi.io/schemas/org-theme.schema.json",
  "title": "Lobbi Org Theme Schema",
  "description": "Schema for organization-specific theme configurations in the Lobbi Design System",
  "type": "object",
  "required": ["orgId", "name", "short", "motto", "logoLetter", "identity", "colors", "gradients", "patterns", "org", "components", "semantic", "chakra"],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Reference to this schema"
    },
    "orgId": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9-]*$",
      "description": "Unique identifier for the organization (kebab-case)"
    },
    "name": {
      "type": "string",
      "description": "Full organization name"
    },
    "short": {
      "type": "string",
      "maxLength": 20,
      "description": "Short organization name for space-constrained contexts"
    },
    "motto": {
      "type": "string",
      "description": "Organization tagline or motto"
    },
    "logoLetter": {
      "type": "string",
      "maxLength": 3,
      "description": "Letter(s) to display in logo placeholder (1-3 chars)"
    },
    "identity": {
      "type": "object",
      "required": ["personality", "era", "mood"],
      "properties": {
        "personality": {
          "type": "string",
          "enum": ["opulent", "serene", "ambitious", "organic", "regal"],
          "description": "Overall personality trait of the brand"
        },
        "era": {
          "type": "string",
          "enum": ["art-deco", "coastal-modern", "mountain-lodge", "botanical-modern", "royal-classic"],
          "description": "Design era inspiration"
        },
        "mood": {
          "type": "string",
          "description": "Emotional tone of the brand"
        }
      }
    },
    "colors": {
      "type": "object",
      "required": ["primary", "primaryHex", "primaryLight", "primaryPale", "primaryDark", "primaryRgb", "accent", "surface", "sidebar"],
      "properties": {
        "primary": { "$ref": "#/definitions/colorScale" },
        "primaryHex": { "$ref": "#/definitions/hexColor" },
        "primaryLight": { "$ref": "#/definitions/hexColor" },
        "primaryPale": { "$ref": "#/definitions/hexColor" },
        "primaryDark": { "$ref": "#/definitions/hexColor" },
        "primaryRgb": {
          "type": "string",
          "pattern": "^\\d{1,3},\\d{1,3},\\d{1,3}$",
          "description": "RGB values comma-separated for rgba() usage"
        },
        "accent": { "$ref": "#/definitions/colorScale" },
        "surface": {
          "type": "object",
          "required": ["canvas", "card", "cardHover", "panel", "overlay"],
          "properties": {
            "canvas": { "$ref": "#/definitions/color" },
            "card": { "$ref": "#/definitions/color" },
            "cardHover": { "$ref": "#/definitions/color" },
            "panel": { "$ref": "#/definitions/color" },
            "overlay": { "$ref": "#/definitions/color" }
          }
        },
        "sidebar": {
          "type": "object",
          "required": ["bg", "text", "textHover", "activeText", "activeBg", "border"],
          "properties": {
            "bg": { "$ref": "#/definitions/color" },
            "text": { "$ref": "#/definitions/color" },
            "textHover": { "$ref": "#/definitions/color" },
            "activeText": { "$ref": "#/definitions/color" },
            "activeBg": { "$ref": "#/definitions/color" },
            "border": { "$ref": "#/definitions/color" }
          }
        }
      }
    },
    "gradients": {
      "type": "object",
      "required": ["brand", "button", "avatar", "hero", "glow"],
      "properties": {
        "brand": { "$ref": "#/definitions/gradient" },
        "button": { "$ref": "#/definitions/gradient" },
        "avatar": { "$ref": "#/definitions/gradient" },
        "hero": { "$ref": "#/definitions/gradient" },
        "glow": { "$ref": "#/definitions/gradient" }
      }
    },
    "patterns": {
      "type": "object",
      "required": ["cardBg", "accentPattern", "borderStyle", "borderWidth", "logoShape"],
      "properties": {
        "cardBg": { "$ref": "#/definitions/gradient" },
        "accentPattern": { "type": "string" },
        "borderStyle": {
          "type": "string",
          "enum": ["solid", "double", "dashed", "dotted"]
        },
        "borderWidth": { "$ref": "#/definitions/cssLength" },
        "logoShape": {
          "type": "string",
          "enum": ["diamond", "wave", "mountain", "leaf", "crown", "circle", "octagon"]
        }
      }
    },
    "org": {
      "type": "object",
      "required": ["mode", "accentShift", "motionPersonality", "brandMark"],
      "properties": {
        "mode": {
          "type": "string",
          "enum": ["elastic", "static"],
          "description": "Whether theme values can be adjusted dynamically"
        },
        "accentShift": {
          "type": "object",
          "required": ["hueDelta", "satMul", "lumMul"],
          "properties": {
            "hueDelta": { "type": "number", "minimum": -180, "maximum": 180 },
            "satMul": { "type": "number", "minimum": 0, "maximum": 2 },
            "lumMul": { "type": "number", "minimum": 0, "maximum": 2 }
          }
        },
        "motionPersonality": {
          "type": "object",
          "required": ["cadenceMul", "amplitudeMul", "rotationMul"],
          "properties": {
            "cadenceMul": { "type": "number", "minimum": 0.5, "maximum": 2 },
            "amplitudeMul": { "type": "number", "minimum": 0.5, "maximum": 2 },
            "rotationMul": { "type": "number", "minimum": 0.5, "maximum": 2 }
          }
        },
        "brandMark": {
          "type": "object",
          "required": ["showL", "monogramOpacity"],
          "properties": {
            "showL": { "type": "boolean" },
            "monogramOpacity": { "type": "number", "minimum": 0, "maximum": 1 }
          }
        }
      }
    },
    "components": {
      "type": "object",
      "required": ["button", "input", "card", "avatar", "badge", "tooltip"],
      "properties": {
        "button": {
          "type": "object",
          "required": ["primary", "secondary", "ghost"],
          "properties": {
            "primary": { "$ref": "#/definitions/buttonStyle" },
            "secondary": { "$ref": "#/definitions/buttonSecondaryStyle" },
            "ghost": { "$ref": "#/definitions/buttonGhostStyle" }
          }
        },
        "input": {
          "type": "object",
          "required": ["bg", "border", "focusBorder", "focusShadow"],
          "properties": {
            "bg": { "$ref": "#/definitions/color" },
            "border": { "$ref": "#/definitions/color" },
            "focusBorder": { "$ref": "#/definitions/color" },
            "focusShadow": { "type": "string" }
          }
        },
        "card": {
          "type": "object",
          "required": ["topBar", "border", "shadow"],
          "properties": {
            "topBar": { "$ref": "#/definitions/gradient" },
            "border": { "$ref": "#/definitions/color" },
            "shadow": { "type": "string" }
          }
        },
        "avatar": {
          "type": "object",
          "required": ["bg", "border"],
          "properties": {
            "bg": { "$ref": "#/definitions/gradient" },
            "border": { "type": "string" }
          }
        },
        "badge": {
          "type": "object",
          "required": ["bg", "color"],
          "properties": {
            "bg": { "$ref": "#/definitions/color" },
            "color": { "$ref": "#/definitions/color" }
          }
        },
        "tooltip": {
          "type": "object",
          "required": ["bg", "color"],
          "properties": {
            "bg": { "$ref": "#/definitions/color" },
            "color": { "$ref": "#/definitions/color" }
          }
        }
      }
    },
    "semantic": {
      "type": "object",
      "required": ["kpiUp", "kpiDown", "activityDot", "activityDotAlt"],
      "properties": {
        "kpiUp": { "$ref": "#/definitions/kpiStyle" },
        "kpiDown": { "$ref": "#/definitions/kpiStyle" },
        "activityDot": { "$ref": "#/definitions/hexColor" },
        "activityDotAlt": { "$ref": "#/definitions/hexColor" }
      }
    },
    "chakra": {
      "type": "object",
      "required": ["colors", "semanticTokens"],
      "properties": {
        "colors": {
          "type": "object",
          "required": ["brand"],
          "properties": {
            "brand": { "$ref": "#/definitions/colorScale" }
          }
        },
        "semanticTokens": {
          "type": "object",
          "required": ["colors"],
          "properties": {
            "colors": {
              "type": "object",
              "required": ["brand.primary", "brand.secondary", "bg.canvas", "bg.surface", "text.primary", "text.secondary", "text.muted", "border.default", "border.accent"],
              "properties": {
                "brand.primary": { "$ref": "#/definitions/color" },
                "brand.secondary": { "$ref": "#/definitions/color" },
                "bg.canvas": { "$ref": "#/definitions/color" },
                "bg.surface": { "$ref": "#/definitions/color" },
                "text.primary": { "$ref": "#/definitions/color" },
                "text.secondary": { "$ref": "#/definitions/color" },
                "text.muted": { "$ref": "#/definitions/color" },
                "border.default": { "$ref": "#/definitions/color" },
                "border.accent": { "$ref": "#/definitions/color" }
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "hexColor": {
      "type": "string",
      "pattern": "^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"
    },
    "color": {
      "type": "string",
      "description": "Any valid CSS color value (hex, rgb, rgba, etc.)"
    },
    "gradient": {
      "type": "string",
      "description": "CSS gradient value"
    },
    "cssLength": {
      "type": "string",
      "pattern": "^\\d+(\\.\\d+)?(px|rem|em|%)$"
    },
    "colorScale": {
      "type": "object",
      "required": ["50", "100", "200", "300", "400", "500", "600", "700", "800", "900"],
      "properties": {
        "50": { "$ref": "#/definitions/hexColor" },
        "100": { "$ref": "#/definitions/hexColor" },
        "200": { "$ref": "#/definitions/hexColor" },
        "300": { "$ref": "#/definitions/hexColor" },
        "400": { "$ref": "#/definitions/hexColor" },
        "500": { "$ref": "#/definitions/hexColor" },
        "600": { "$ref": "#/definitions/hexColor" },
        "700": { "$ref": "#/definitions/hexColor" },
        "800": { "$ref": "#/definitions/hexColor" },
        "900": { "$ref": "#/definitions/hexColor" }
      }
    },
    "buttonStyle": {
      "type": "object",
      "required": ["bg", "color", "hoverBg", "shadow", "hoverShadow"],
      "properties": {
        "bg": { "$ref": "#/definitions/gradient" },
        "color": { "$ref": "#/definitions/color" },
        "hoverBg": { "$ref": "#/definitions/gradient" },
        "shadow": { "type": "string" },
        "hoverShadow": { "type": "string" }
      }
    },
    "buttonSecondaryStyle": {
      "type": "object",
      "required": ["bg", "color", "border", "hoverBg"],
      "properties": {
        "bg": { "$ref": "#/definitions/color" },
        "color": { "$ref": "#/definitions/color" },
        "border": { "type": "string" },
        "hoverBg": { "$ref": "#/definitions/color" }
      }
    },
    "buttonGhostStyle": {
      "type": "object",
      "required": ["bg", "color", "hoverBg"],
      "properties": {
        "bg": { "$ref": "#/definitions/color" },
        "color": { "$ref": "#/definitions/color" },
        "hoverBg": { "$ref": "#/definitions/color" }
      }
    },
    "kpiStyle": {
      "type": "object",
      "required": ["color", "bg"],
      "properties": {
        "color": { "$ref": "#/definitions/hexColor" },
        "bg": { "$ref": "#/definitions/color" }
      }
    }
  }
}
